{"is_source_file": true, "format": "Python", "description": "This file defines middleware for a web application built with Starlette, which injects and propagates a correlation ID through request and response cycle to facilitate request tracing across multiple services.", "external_files": ["starlette.middleware.base", "starlette.requests", "starlette.responses"], "external_methods": ["starlette.middleware.base.BaseHTTPMiddleware", "starlette.requests.Request", "starlette.responses.Response", "uuid.uuid4"], "published": ["CorrelationIdMiddleware"], "classes": [{"name": "CorrelationIdMiddleware", "description": "Middleware class that adds or propagates a correlation ID in incoming requests and outgoing responses, for improved request tracing."}], "methods": [{"name": "Response dispatch(self, request: Request, call_next: Callable)", "description": "Asynchronously handles an incoming request by assigning or retrieving a correlation ID, then passing control to the next handler, and finally attaching the ID to the response headers.", "scope": "CorrelationIdMiddleware", "scopeKind": "class"}], "calls": ["request.headers.get", "uuid.uuid4", "call_next", "response.headers"], "search-terms": ["Correlation ID middleware", "X-Request-Id", "request tracing", "Starlette middleware", "request header injection"], "state": 2, "file_id": 10, "knowledge_revision": 34, "git_revision": "4dc4d88eee8c9438c2ef9a85e8fc703d5d88f50e", "ctags": [{"_type": "tag", "name": "CorrelationIdMiddleware", "path": "/home/kavia/workspace/code-generation/rest-api-modernized/app/middleware/correlation.py", "pattern": "/^class CorrelationIdMiddleware(BaseHTTPMiddleware):$/", "language": "Python", "kind": "class"}, {"_type": "tag", "name": "dispatch", "path": "/home/kavia/workspace/code-generation/rest-api-modernized/app/middleware/correlation.py", "pattern": "/^    async def dispatch(self, request: Request, call_next: Callable) -> Response:$/", "language": "Python", "typeref": "typename:Response", "kind": "member", "signature": "(self, request: Request, call_next: Callable)", "scope": "CorrelationIdMiddleware", "scopeKind": "class"}, {"_type": "tag", "name": "header_name", "path": "/home/kavia/workspace/code-generation/rest-api-modernized/app/middleware/correlation.py", "pattern": "/^    header_name: str = \"X-Request-Id\"$/", "language": "Python", "typeref": "typename:str", "kind": "variable", "scope": "CorrelationIdMiddleware", "scopeKind": "class"}], "hash": "0dc2ba94ace110273173e4b6cd3b31f9", "format-version": 4, "code-base-name": "rest-api-modernized", "filename": "app/middleware/correlation.py", "fields": [{"name": "str header_name", "scope": "CorrelationIdMiddleware", "scopeKind": "class", "description": "unavailable"}], "revision_history": [{"34": "4dc4d88eee8c9438c2ef9a85e8fc703d5d88f50e"}]}