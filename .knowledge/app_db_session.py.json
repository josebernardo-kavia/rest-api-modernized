{"is_source_file": true, "format": "Python", "description": "This file provides asynchronous SQLAlchemy engine and session factory configuration for a FastAPI application, including lazy initialization and dependency injection for database sessions.", "external_files": ["sqlalchemy.ext.asyncio", "app.core.config"], "external_methods": ["sqlalchemy.ext.asyncio.create_async_engine", "app.core.config.get_settings"], "published": ["get_engine", "get_sessionmaker", "get_async_session"], "classes": [], "methods": [{"name": "AsyncEngine _build_engine(database_url: str)", "description": "Creates an asynchronous SQLAlchemy engine from a database URL.", "scope": "", "scopeKind": ""}, {"name": "AsyncEngine get_engine(*, settings: Optional[Settings] = None)", "description": "Returns a singleton asynchronous engine, initializing it if necessary.", "scope": "", "scopeKind": ""}, {"name": "async_sessionmaker[AsyncSession] get_sessionmaker(*, settings: Optional[Settings] = None)", "description": "Returns a singleton session maker for async sessions, initializing if needed.", "scope": "", "scopeKind": ""}, {"name": "AsyncIterator[AsyncSession] get_async_session()", "description": "Asynchronous generator providing an async SQLAlchemy session, suitable as a FastAPI dependency.", "scope": "", "scopeKind": ""}], "calls": ["create_async_engine", "get_settings", "async_sessionmaker", "get_engine"], "search-terms": ["asyncio", "SQLAlchemy", "FastAPI database dependency", "async session factory", "lazy initialization", "async engine"], "state": 2, "file_id": 23, "knowledge_revision": 55, "git_revision": "58b461bfc615f334c45b6c70acd90c6a6bc8a9bd", "ctags": [{"_type": "tag", "name": "_build_engine", "path": "/home/kavia/workspace/code-generation/rest-api-modernized/app/db/session.py", "pattern": "/^def _build_engine(database_url: str) -> AsyncEngine:$/", "language": "Python", "typeref": "typename:AsyncEngine", "kind": "function", "signature": "(database_url: str)"}, {"_type": "tag", "name": "_engine", "path": "/home/kavia/workspace/code-generation/rest-api-modernized/app/db/session.py", "pattern": "/^_engine: Optional[AsyncEngine] = None$/", "language": "Python", "typeref": "typename:Optional[AsyncEngine]", "kind": "variable"}, {"_type": "tag", "name": "_sessionmaker", "path": "/home/kavia/workspace/code-generation/rest-api-modernized/app/db/session.py", "pattern": "/^_sessionmaker: Optional[async_sessionmaker[AsyncSession]] = None$/", "language": "Python", "typeref": "typename:Optional[async_sessionmaker[AsyncSession]]", "kind": "variable"}, {"_type": "tag", "name": "get_async_session", "path": "/home/kavia/workspace/code-generation/rest-api-modernized/app/db/session.py", "pattern": "/^async def get_async_session() -> AsyncIterator[AsyncSession]:$/", "language": "Python", "typeref": "typename:AsyncIterator[AsyncSession]", "kind": "function", "signature": "()"}, {"_type": "tag", "name": "get_engine", "path": "/home/kavia/workspace/code-generation/rest-api-modernized/app/db/session.py", "pattern": "/^def get_engine(*, settings: Optional[Settings] = None) -> AsyncEngine:$/", "language": "Python", "typeref": "typename:AsyncEngine", "kind": "function", "signature": "(*, settings: Optional[Settings] = None)"}, {"_type": "tag", "name": "get_sessionmaker", "path": "/home/kavia/workspace/code-generation/rest-api-modernized/app/db/session.py", "pattern": "/^def get_sessionmaker(*, settings: Optional[Settings] = None) -> async_sessionmaker[AsyncSession]/", "language": "Python", "typeref": "typename:async_sessionmaker[AsyncSession]", "kind": "function", "signature": "(*, settings: Optional[Settings] = None)"}], "hash": "ebf90bcac18c5f86fb317e9dba06bde7", "format-version": 4, "code-base-name": "rest-api-modernized", "filename": "app/db/session.py", "fields": [{"name": "Optional[AsyncEngine] _engine", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "Optional[async_sessionmaker[AsyncSession]] _sessionmaker", "scope": "", "scopeKind": "", "description": "unavailable"}], "revision_history": [{"55": "58b461bfc615f334c45b6c70acd90c6a6bc8a9bd"}]}