{"is_source_file": true, "format": "Python", "description": "This file contains service layer implementations for core domain resources such as Projects, Tasks, and Vulnerabilities, including business logic, authorization checks, and interactions with repositories.", "external_files": ["app.auth.dependencies", "app.domain.errors", "app.domain.repositories", "app.models.domain"], "external_methods": ["AuthState:roles", "PermissionError: __init__", "NotFoundError: __init__", "ProjectRepository.get", "ProjectRepository.create", "ProjectRepository.delete", "ProjectRepository.list", "TaskRepository.get", "TaskRepository.create", "TaskRepository.delete", "TaskRepository.list", "VulnerabilityRepository.get", "VulnerabilityRepository.create", "VulnerabilityRepository.delete", "VulnerabilityRepository.list", "async_session.commit", "async_session.refresh"], "published": ["ProjectService", "TaskService", "VulnerabilityService"], "classes": [{"name": "ProjectService", "description": "Provides business logic for managing projects, including create, get, update, delete, and list functionalities."}, {"name": "TaskService", "description": "Handles task-related operations such as creation, retrieval, updating, deletion, and listing tasks within projects."}, {"name": "VulnerabilityService", "description": "Manages vulnerabilities, including creation, retrieval, updating, deletion, and listing with respect to projects."}], "methods": [{"name": "Task create( self, *, user: AuthenticatedUser, project_id: UUID, title: str, description: Optional[str], status: str, )", "description": "Creates a new project, task, or vulnerability after performing authorization checks and validation.", "scope": "TaskService", "scopeKind": "class"}, {"name": "Project get(self, *, project_id: UUID)", "description": "Retrieves a specific project, task, or vulnerability by its ID.", "scope": "ProjectService", "scopeKind": "class"}, {"name": "Project update( self, *, user: AuthenticatedUser, project_id: UUID, name: Optional[str], description: Optional[str], )", "description": "Updates existing project, task, or vulnerability details with provided data.", "scope": "ProjectService", "scopeKind": "class"}, {"name": "None delete(self, *, user: AuthenticatedUser, project_id: UUID)", "description": "Deletes a specific project, task, or vulnerability after authorization.", "scope": "ProjectService", "scopeKind": "class"}, {"name": "tuple[list[Task],int] list( self, *, limit: int, offset: int, project_id: Optional[UUID], status: Optional[str], q: Optional[str], )", "description": "Lists projects, tasks, or vulnerabilities with support for pagination and filtering.", "scope": "TaskService", "scopeKind": "class"}, {"name": "None __init__(self, session: AsyncSession)", "scope": "VulnerabilityService", "scopeKind": "class", "description": "unavailable"}, {"name": "bool _is_admin(user: AuthenticatedUser)", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "Vulnerability create( self, *, user: AuthenticatedUser, project_id: UUID, title: str, description: Optional[str], severity: str, status: str, )", "scope": "VulnerabilityService", "scopeKind": "class", "description": "unavailable"}, {"name": "Project create(self, *, user: AuthenticatedUser, name: str, description: Optional[str])", "scope": "ProjectService", "scopeKind": "class", "description": "unavailable"}, {"name": "None delete(self, *, user: AuthenticatedUser, task_id: UUID)", "scope": "TaskService", "scopeKind": "class", "description": "unavailable"}, {"name": "None delete(self, *, user: AuthenticatedUser, vulnerability_id: UUID)", "scope": "VulnerabilityService", "scopeKind": "class", "description": "unavailable"}, {"name": "Task get(self, *, task_id: UUID)", "scope": "TaskService", "scopeKind": "class", "description": "unavailable"}, {"name": "Vulnerability get(self, *, vulnerability_id: UUID)", "scope": "VulnerabilityService", "scopeKind": "class", "description": "unavailable"}, {"name": "tuple[list[Vulnerability],int] list( self, *, limit: int, offset: int, project_id: Optional[UUID], severity: Optional[str], status: Optional[str], q: Optional[str], )", "scope": "VulnerabilityService", "scopeKind": "class", "description": "unavailable"}, {"name": "tuple[list[Project],int] list(self, *, limit: int, offset: int, q: Optional[str])", "scope": "ProjectService", "scopeKind": "class", "description": "unavailable"}, {"name": "Task update( self, *, user: AuthenticatedUser, task_id: UUID, title: Optional[str], description: Optional[str], status: Optional[str], )", "scope": "TaskService", "scopeKind": "class", "description": "unavailable"}, {"name": "Vulnerability update( self, *, user: AuthenticatedUser, vulnerability_id: UUID, title: Optional[str], description: Optional[str], severity: Optional[str], status: Optional[str], )", "scope": "VulnerabilityService", "scopeKind": "class", "description": "unavailable"}], "calls": ["self._repo.get", "self._repo.create", "self._repo.delete", "self._repo.list", "self._session.commit", "self._session.refresh"], "search-terms": ["domain services", "repository interactions", "project task vulnerability management", "business logic authorization"], "state": 2, "file_id": 40, "knowledge_revision": 96, "git_revision": "ac244c573ee69c92dd8ff8571658ce97ccbd030b", "ctags": [{"_type": "tag", "name": "ProjectService", "path": "/home/kavia/workspace/code-generation/rest-api-modernized/app/domain/services.py", "pattern": "/^class ProjectService:$/", "language": "Python", "kind": "class"}, {"_type": "tag", "name": "TaskService", "path": "/home/kavia/workspace/code-generation/rest-api-modernized/app/domain/services.py", "pattern": "/^class TaskService:$/", "language": "Python", "kind": "class"}, {"_type": "tag", "name": "VulnerabilityService", "path": "/home/kavia/workspace/code-generation/rest-api-modernized/app/domain/services.py", "pattern": "/^class VulnerabilityService:$/", "language": "Python", "kind": "class"}, {"_type": "tag", "name": "__init__", "path": "/home/kavia/workspace/code-generation/rest-api-modernized/app/domain/services.py", "pattern": "/^    def __init__(self, session: AsyncSession) -> None:$/", "language": "Python", "typeref": "typename:None", "kind": "member", "signature": "(self, session: AsyncSession)", "scope": "ProjectService", "scopeKind": "class"}, {"_type": "tag", "name": "__init__", "path": "/home/kavia/workspace/code-generation/rest-api-modernized/app/domain/services.py", "pattern": "/^    def __init__(self, session: AsyncSession) -> None:$/", "language": "Python", "typeref": "typename:None", "kind": "member", "signature": "(self, session: AsyncSession)", "scope": "TaskService", "scopeKind": "class"}, {"_type": "tag", "name": "__init__", "path": "/home/kavia/workspace/code-generation/rest-api-modernized/app/domain/services.py", "pattern": "/^    def __init__(self, session: AsyncSession) -> None:$/", "language": "Python", "typeref": "typename:None", "kind": "member", "signature": "(self, session: AsyncSession)", "scope": "VulnerabilityService", "scopeKind": "class"}, {"_type": "tag", "name": "_is_admin", "path": "/home/kavia/workspace/code-generation/rest-api-modernized/app/domain/services.py", "pattern": "/^def _is_admin(user: AuthenticatedUser) -> bool:$/", "language": "Python", "typeref": "typename:bool", "kind": "function", "signature": "(user: AuthenticatedUser)"}, {"_type": "tag", "name": "create", "path": "/home/kavia/workspace/code-generation/rest-api-modernized/app/domain/services.py", "pattern": "/^    async def create($/", "language": "Python", "typeref": "typename:Task", "kind": "member", "signature": "( self, *, user: AuthenticatedUser, project_id: UUID, title: str, description: Optional[str], status: str, )", "scope": "TaskService", "scopeKind": "class"}, {"_type": "tag", "name": "create", "path": "/home/kavia/workspace/code-generation/rest-api-modernized/app/domain/services.py", "pattern": "/^    async def create($/", "language": "Python", "typeref": "typename:Vulnerability", "kind": "member", "signature": "( self, *, user: AuthenticatedUser, project_id: UUID, title: str, description: Optional[str], severity: str, status: str, )", "scope": "VulnerabilityService", "scopeKind": "class"}, {"_type": "tag", "name": "create", "path": "/home/kavia/workspace/code-generation/rest-api-modernized/app/domain/services.py", "pattern": "/^    async def create(self, *, user: AuthenticatedUser, name: str, description: Optional[str]) ->/", "language": "Python", "typeref": "typename:Project", "kind": "member", "signature": "(self, *, user: AuthenticatedUser, name: str, description: Optional[str])", "scope": "ProjectService", "scopeKind": "class"}, {"_type": "tag", "name": "delete", "path": "/home/kavia/workspace/code-generation/rest-api-modernized/app/domain/services.py", "pattern": "/^    async def delete(self, *, user: AuthenticatedUser, project_id: UUID) -> None:$/", "language": "Python", "typeref": "typename:None", "kind": "member", "signature": "(self, *, user: AuthenticatedUser, project_id: UUID)", "scope": "ProjectService", "scopeKind": "class"}, {"_type": "tag", "name": "delete", "path": "/home/kavia/workspace/code-generation/rest-api-modernized/app/domain/services.py", "pattern": "/^    async def delete(self, *, user: AuthenticatedUser, task_id: UUID) -> None:$/", "language": "Python", "typeref": "typename:None", "kind": "member", "signature": "(self, *, user: AuthenticatedUser, task_id: UUID)", "scope": "TaskService", "scopeKind": "class"}, {"_type": "tag", "name": "delete", "path": "/home/kavia/workspace/code-generation/rest-api-modernized/app/domain/services.py", "pattern": "/^    async def delete(self, *, user: AuthenticatedUser, vulnerability_id: UUID) -> None:$/", "language": "Python", "typeref": "typename:None", "kind": "member", "signature": "(self, *, user: AuthenticatedUser, vulnerability_id: UUID)", "scope": "VulnerabilityService", "scopeKind": "class"}, {"_type": "tag", "name": "get", "path": "/home/kavia/workspace/code-generation/rest-api-modernized/app/domain/services.py", "pattern": "/^    async def get(self, *, project_id: UUID) -> Project:$/", "language": "Python", "typeref": "typename:Project", "kind": "member", "signature": "(self, *, project_id: UUID)", "scope": "ProjectService", "scopeKind": "class"}, {"_type": "tag", "name": "get", "path": "/home/kavia/workspace/code-generation/rest-api-modernized/app/domain/services.py", "pattern": "/^    async def get(self, *, task_id: UUID) -> Task:$/", "language": "Python", "typeref": "typename:Task", "kind": "member", "signature": "(self, *, task_id: UUID)", "scope": "TaskService", "scopeKind": "class"}, {"_type": "tag", "name": "get", "path": "/home/kavia/workspace/code-generation/rest-api-modernized/app/domain/services.py", "pattern": "/^    async def get(self, *, vulnerability_id: UUID) -> Vulnerability:$/", "language": "Python", "typeref": "typename:Vulnerability", "kind": "member", "signature": "(self, *, vulnerability_id: UUID)", "scope": "VulnerabilityService", "scopeKind": "class"}, {"_type": "tag", "name": "list", "path": "/home/kavia/workspace/code-generation/rest-api-modernized/app/domain/services.py", "pattern": "/^    async def list($/", "language": "Python", "typeref": "typename:tuple[list[Task],int]", "kind": "member", "signature": "( self, *, limit: int, offset: int, project_id: Optional[UUID], status: Optional[str], q: Optional[str], )", "scope": "TaskService", "scopeKind": "class"}, {"_type": "tag", "name": "list", "path": "/home/kavia/workspace/code-generation/rest-api-modernized/app/domain/services.py", "pattern": "/^    async def list($/", "language": "Python", "typeref": "typename:tuple[list[Vulnerability],int]", "kind": "member", "signature": "( self, *, limit: int, offset: int, project_id: Optional[UUID], severity: Optional[str], status: Optional[str], q: Optional[str], )", "scope": "VulnerabilityService", "scopeKind": "class"}, {"_type": "tag", "name": "list", "path": "/home/kavia/workspace/code-generation/rest-api-modernized/app/domain/services.py", "pattern": "/^    async def list(self, *, limit: int, offset: int, q: Optional[str]) -> tuple[list[Project], i/", "language": "Python", "typeref": "typename:tuple[list[Project],int]", "kind": "member", "signature": "(self, *, limit: int, offset: int, q: Optional[str])", "scope": "ProjectService", "scopeKind": "class"}, {"_type": "tag", "name": "update", "path": "/home/kavia/workspace/code-generation/rest-api-modernized/app/domain/services.py", "pattern": "/^    async def update($/", "language": "Python", "typeref": "typename:Project", "kind": "member", "signature": "( self, *, user: AuthenticatedUser, project_id: UUID, name: Optional[str], description: Optional[str], )", "scope": "ProjectService", "scopeKind": "class"}, {"_type": "tag", "name": "update", "path": "/home/kavia/workspace/code-generation/rest-api-modernized/app/domain/services.py", "pattern": "/^    async def update($/", "language": "Python", "typeref": "typename:Task", "kind": "member", "signature": "( self, *, user: AuthenticatedUser, task_id: UUID, title: Optional[str], description: Optional[str], status: Optional[str], )", "scope": "TaskService", "scopeKind": "class"}, {"_type": "tag", "name": "update", "path": "/home/kavia/workspace/code-generation/rest-api-modernized/app/domain/services.py", "pattern": "/^    async def update($/", "language": "Python", "typeref": "typename:Vulnerability", "kind": "member", "signature": "( self, *, user: AuthenticatedUser, vulnerability_id: UUID, title: Optional[str], description: Optional[str], severity: Optional[str], status: Optional[str], )", "scope": "VulnerabilityService", "scopeKind": "class"}], "hash": "59e965f61144be02d4bc35f327adaddc", "format-version": 4, "code-base-name": "rest-api-modernized", "filename": "app/domain/services.py", "revision_history": [{"96": "ac244c573ee69c92dd8ff8571658ce97ccbd030b"}]}