{"is_source_file": true, "format": "Python", "description": "This file defines REST API endpoints for task management using FastAPI framework. It includes CRUD operations such as create, list, retrieve, update, and delete tasks, with appropriate security and dependency injections.", "external_files": ["app.auth.dependencies", "app.common.errors", "app.dependencies.db", "app.domain.schemas", "app.domain.services"], "external_methods": ["get_current_user", "require_roles", "get_db_session", "TaskService.create", "TaskService.list", "TaskService.get", "TaskService.update", "TaskService.delete"], "published": ["router"], "classes": [{"name": "ListResponse", "description": "Generic response wrapper for paginated lists containing task items and total count."}, {"name": "TaskCreate", "description": "Schema for creating a new task with project ID, title, description, and status."}, {"name": "TaskRead", "description": "Schema for reading task details."}, {"name": "TaskUpdate", "description": "Schema for updating an existing task with optional fields."}], "methods": [{"name": "TaskRead create_task( payload: TaskCreate, db: AsyncSession = Depends(get_db_session), user: AuthenticatedUser = Security(get_current_user), )", "description": "Endpoint handler to create a new task using posted data.", "scope": "", "scopeKind": ""}, {"name": "ListResponse[TaskRead] list_tasks( limit: int = Query(default=50, ge=1, le=500, description=\"Maximum number of items to return.\"), offset: int = Query(default=0, ge=0, description=\"Number of items to skip.\"), project_id: Optional[UUID] = Query(default=None, description=\"Filter by project id.\"), status_filter: Optional[str] = Query(default=None, alias=\"status\", description=\"Filter by status.\"), q: Optional[str] = Query(default=None, description=\"Optional title search (case-insensitive, contains).\"), db: AsyncSession = Depends(get_db_session), _user: AuthenticatedUser = Security(get_current_user), )", "description": "Endpoint handler to retrieve a paginated list of tasks with optional filters.", "scope": "", "scopeKind": ""}, {"name": "TaskRead get_task( task_id: UUID, db: AsyncSession = Depends(get_db_session), _user: AuthenticatedUser = Security(get_current_user), )", "description": "Endpoint handler to retrieve details of a specific task by ID.", "scope": "", "scopeKind": ""}, {"name": "TaskRead update_task( task_id: UUID, payload: TaskUpdate, db: AsyncSession = Depends(get_db_session), user: AuthenticatedUser = Security(get_current_user), )", "description": "Endpoint handler to perform a partial update on a task by ID.", "scope": "", "scopeKind": ""}, {"name": "None delete_task( task_id: UUID, db: AsyncSession = Depends(get_db_session), user: AuthenticatedUser = Depends(require_roles([\"admin\", \"realm-admin\"])), )", "description": "Endpoint handler to delete a task by ID, restricted to admin roles.", "scope": "", "scopeKind": ""}], "calls": ["TaskService(db).create", "TaskService(db).list", "TaskService(db).get", "TaskService(db).update", "TaskService(db).delete"], "search-terms": ["FastAPI", "Task CRUD", "Tasks API", "TaskService", "SQLAlchemy Async", "Role-based Access Control", "/tasks endpoint", "Task schemas", "Dependency Injection"], "state": 2, "file_id": 42, "knowledge_revision": 106, "git_revision": "e6384165a844054d79619f77ee0d4e438cd1d35f", "revision_history": [{"98": "ac244c573ee69c92dd8ff8571658ce97ccbd030b"}, {"106": "e6384165a844054d79619f77ee0d4e438cd1d35f"}], "ctags": [{"_type": "tag", "name": "create_task", "path": "/home/kavia/workspace/code-generation/rest-api-modernized/app/routers/tasks.py", "pattern": "/^async def create_task($/", "language": "Python", "typeref": "typename:TaskRead", "kind": "function", "signature": "( payload: TaskCreate, db: AsyncSession = Depends(get_db_session), user: AuthenticatedUser = Security(get_current_user), )"}, {"_type": "tag", "name": "delete_task", "path": "/home/kavia/workspace/code-generation/rest-api-modernized/app/routers/tasks.py", "pattern": "/^async def delete_task($/", "language": "Python", "typeref": "typename:None", "kind": "function", "signature": "( task_id: UUID, db: AsyncSession = Depends(get_db_session), user: AuthenticatedUser = Depends(require_roles([\"admin\", \"realm-admin\"])), )"}, {"_type": "tag", "name": "get_task", "path": "/home/kavia/workspace/code-generation/rest-api-modernized/app/routers/tasks.py", "pattern": "/^async def get_task($/", "language": "Python", "typeref": "typename:TaskRead", "kind": "function", "signature": "( task_id: UUID, db: AsyncSession = Depends(get_db_session), _user: AuthenticatedUser = Security(get_current_user), )"}, {"_type": "tag", "name": "list_tasks", "path": "/home/kavia/workspace/code-generation/rest-api-modernized/app/routers/tasks.py", "pattern": "/^async def list_tasks($/", "language": "Python", "typeref": "typename:ListResponse[TaskRead]", "kind": "function", "signature": "( limit: int = Query(default=50, ge=1, le=500, description=\"Maximum number of items to return.\"), offset: int = Query(default=0, ge=0, description=\"Number of items to skip.\"), project_id: Optional[UUID] = Query(default=None, description=\"Filter by project id.\"), status_filter: Optional[str] = Query(default=None, alias=\"status\", description=\"Filter by status.\"), q: Optional[str] = Query(default=None, description=\"Optional title search (case-insensitive, contains).\"), db: AsyncSession = Depends(get_db_session), _user: AuthenticatedUser = Security(get_current_user), )"}, {"_type": "tag", "name": "router", "path": "/home/kavia/workspace/code-generation/rest-api-modernized/app/routers/tasks.py", "pattern": "/^router = APIRouter(prefix=\"\\/tasks\", tags=[\"Tasks\"])$/", "language": "Python", "kind": "variable"}, {"_type": "tag", "name": "update_task", "path": "/home/kavia/workspace/code-generation/rest-api-modernized/app/routers/tasks.py", "pattern": "/^async def update_task($/", "language": "Python", "typeref": "typename:TaskRead", "kind": "function", "signature": "( task_id: UUID, payload: TaskUpdate, db: AsyncSession = Depends(get_db_session), user: AuthenticatedUser = Security(get_current_user), )"}], "hash": "f042fa3c6d48674e0f69b3f5cb947584", "format-version": 4, "code-base-name": "rest-api-modernized", "filename": "app/routers/tasks.py", "fields": [{"name": "router = APIRouter(prefix=\"\\/tasks\", tags=[\"Tasks\"])", "scope": "", "scopeKind": "", "description": "unavailable"}]}